var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n;export function __vite_legacy_guard(){import("data:text/javascript,")}import{R as l,a as o,r as i,b as m,L as h,S as u,c as d,d as g,H as p}from"./vendor.59b3bd42.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const f=e=>l.createElement("div",{className:"ChangelogLayout "+(e.theme?`theme-${e.theme}`:"")},e.children);f.Body=e=>l.createElement("div",{className:"ChangelogLayout__body"},e.children);f.Header=e=>l.createElement("div",{className:"ChangelogLayout__header"},e.children);const E=e=>{const{show:t,children:a,className:n}=e;return l.createElement("div",{className:`Modal ${n} ${t?"":"Modal--hide"}`},a)};const y=e=>l.createElement("div",{className:"Spinner"},l.createElement("i",{className:"Spinner__icon fas fa-spinner"}),l.createElement("span",{className:"Spinner__text"},e.text));const w=e=>l.createElement("div",{className:"Changelog"},e.renderDate?l.createElement(w.Date,{date:e.date}):"",l.createElement(w.Author,{author:e.author}),l.createElement(w.Changes,{changes:e.changes})),b=new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"});w.Date=e=>l.createElement("div",{className:"Changelog__date"},l.createElement("span",null,b.format(new Date(e.date))));w.Author=e=>l.createElement("h3",{className:"Changelog__author"},e.author," updated:");const v=e=>l.createElement("sup",{className:"PR"},l.createElement("a",{className:"PR__link",href:`https://github.com/ChaoticOnyx/OnyxBay/pull/${e.pr}`},"#",e.pr)),x=e=>{const t=e.change.prefix.toLowerCase();return l.createElement("li",{className:`Changes__change ${B[t]}`},l.createElement("i",{className:P[t]}),l.createElement(o,{rehypePlugins:[i],transformLinkUri:null},e.change.message),e.change.pr?l.createElement(v,{pr:e.change.pr}):"")};w.Changes=e=>l.createElement("ul",{className:"Changes"},e.changes.map(((e,t)=>l.createElement(x,{key:t,change:e}))));const N=e=>l.createElement(l.Fragment,null,l.createElement("h2",null,`Список изменений сервера ${e.serverName}`),l.createElement("p",null,"Разработка ведется при помощи игроков, которые поддерживают сервер своими пожертвованиями! Если вы хотите поддержать нас и принять участие в голосовании за то, какие фичи будут реализованы следующими, то подробную информацию можно найти в новостях на нашем сервере Discord!"),l.createElement("div",{className:"Links"},D.map(((e,t)=>l.createElement("a",{key:t,title:e.title,href:e.url},l.createElement("i",{className:e.icon})))))),_=e=>{let o="";return l.createElement(l.Fragment,null,e.changelog.map(((e,i)=>{let m=!0;return o===e.date?m=!1:o=e.date,l.createElement(w,(h=((e,t)=>{for(var a in t||(t={}))r.call(t,a)&&c(e,a,t[a]);if(n)for(var a of n(t))s.call(t,a)&&c(e,a,t[a]);return e})({key:i},e),t(h,a({renderDate:m}))));var h})))},C=e=>l.createElement(E,{className:"Error",show:e.show},l.createElement("span",null,e.message)),k=e=>l.createElement(E,{show:e.show},l.createElement(y,{text:e.message})),O=e=>l.createElement(f,{theme:"onyx"},l.createElement(f.Header,null,l.createElement(N,{serverName:e.serverName})),e.changelog.length&&l.createElement(f.Body,null,l.createElement(_,{changelog:e.changelog}))||"",l.createElement(k,{message:"Загрузка чейнджлогов",show:!e.changelog.length&&!e.error}),e.error&&l.createElement(C,{message:e.error,show:!0}));class L{constructor(e,t,a){this.name=e,this.owner=t,this.branch=a}getUrl(){return`https://github.com/${this.owner}/${this.name}`}}class $ extends L{constructor(){super("OnyxBay","ChaoticOnyx","release%2Fchaotic")}}class j extends L{constructor(){super("OnyxBay","ChaoticOnyx","release%2Feos")}}class S{constructor(e,t,a){this.name=e,this.repository=t,this.changelogFilePath=a}async LoadChangelogAsync(e){return await e.FetchJsonAsync(this.repository,this.changelogFilePath)}}const F=e=>{const[t,a]=m.exports.useState(void 0),[n,r]=m.exports.useState([]),{cdn:s}=m.exports.useContext(R);return m.exports.useEffect((()=>{((e,t,a,n)=>{t.LoadChangelogAsync(e).then((e=>n(e))).catch((e=>a(e)))})(s,e.server,(e=>a("Проблемы с подключением ⚠️")),(e=>r(e)))}),[]),l.createElement(O,{serverName:"Chaotic Onyx",changelog:n,error:t})};const P={bugfix:"fas fa-bug",tweak:"fas fa-wrench",soundadd:"fas fa-music",sounddel:"fas fa-minus",rscadd:"fas fa-plus",rscdel:"fas fa-minus",imageadd:"fas fa-palette",imagedel:"fas fa-minus",maptweak:"far fa-compass",spellcheck:"fas fa-spell-check",experiment:"fas fa-hard-hat",admin:"fas fa-crown",balance:"fas fa-balance-scale"},B={bugfix:"green",tweak:"green",soundadd:"green",rscadd:"green",imageadd:"green",maptweak:"green",spellcheck:"green",admin:"green",balance:"yellow",experiment:"yellow",sounddel:"red",rscdel:"red",imagedel:"red"},D=[{title:"Patreon",url:"https://www.patreon.com/chaoticonyx",icon:"fab fa-patreon"},{title:"Wiki",url:"https://wiki.ss13.ru",icon:"fas fa-book"},{title:"GitHub",url:"https://github.com/ChaoticOnyx/OnyxBay",icon:"fab fa-github"},{title:"Discord",url:"https://discord.gg/5BRMMFg",icon:"fab fa-discord"}];const A=()=>l.createElement("div",{className:"BlinkCursor"});const M=e=>l.createElement("div",{className:"ServersList"},l.createElement("h1",{className:"ServersList__title"},"Список серверов:"),e.children,l.createElement(A,null));M.Entry=e=>{const{server:t}=e;return l.createElement("h3",{className:"ServersList__entry"},l.createElement(h,{to:`/${e.id}`},t.name))};const R=l.createContext({cdn:new class extends class{constructor(e){this.cdn=e}async Fetch(e){return await fetch(`${this.cdn}/${e}`,{method:"GET",mode:"cors"})}async FetchJsonAsync(e,t){const a=await this.Fetch(this.Join(e,t));return await a.json()}Join(e,t){return`${e.owner}/${e.name}/${e.branch}${t}`}}{constructor(){super("https://github-cdn.vercel.app")}}}),H={chaotic:new class extends S{constructor(){super("Chaotic Onyx",new $,"/html/changelogs/.all_changelog.json")}Changelog(){return()=>F({server:this})}},eos:new class extends S{constructor(){super("EOS",new j,"/html/changelogs/.all_changelog.json")}Changelog(){return()=>F({server:this})}}},I=()=>{const e=Object.keys(H);return l.createElement(M,null,e.map((e=>l.createElement(M.Entry,{key:e,id:e,server:H[e]}))))},J=()=>{const e=Object.keys(H);return l.createElement(u,null,e.map((e=>{const t=H[e].Changelog();return l.createElement(d,{key:e,path:`/${e}`},l.createElement(t,null))})),l.createElement(d,null,l.createElement(I,null)))};console.log("\n ..|''||                             \n.|'    ||  .. ...   .... ... ... ... \n||      ||  ||  ||   '|.  |   '|..'  \n'|.     ||  ||  ||    '|.|     .|.   \n ''|...|'  .||. ||.    '|    .|  ||. \n                    .. |             \n                     ''              \n"),g.render(l.createElement(l.StrictMode,null,l.createElement(p,null,l.createElement(J,null))),document.getElementById("root"));
